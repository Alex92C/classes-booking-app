@for (item of classItems$ | async; track item.uid; let idx = $index, e = $even) {
<div class="col-12 bg-white my-4 outer-card">
  <div class="inner-card">
    <h2>{{ item?.date | date:'dd-MM-yyyy' }}</h2>
  </div>
  <div>
    <div class="flex-justify-center">
      <div class="col-4 mt-3">
        <span><em>{{ item?.time }}</em></span>
        <h3 class="mt-3"><strong>{{ item?.class }}</strong></h3>
        <p>{{ item?.instructor }}</p>
      </div>
      <div class="col-4 flex-center">
        <img [src]="item?.image" alt="class image" class=" card-image" />
      </div>
      <div class="col-4 flex-center">
        <button class="btn btn-primary px-4 text-white"
          (click)="onBookClick($event, item); $event.stopPropagation()">Book</button>
      </div>
    </div>
    <span class="p-1 px-4 inner-card text-white" (click)="toggleDetails(idx)">view details <i
        [class]="openedIndex === idx ? 'fas fa-chevron-up' : 'fas fa-chevron-down'"></i></span>
    <div class="collapsible border-color-primary" [@expandCollapse]="openedIndex === idx ? 'expanded' : 'collapsed'">
      <div class="pt-2">
        <p>{{ item?.description }}</p>
        <p>Available 5 out of {{ item?.maxAttendance }} spots</p>
        <p>{{ item?.location }}</p>
        <p>Refud and no-show terms</p>
      </div>
    </div>
  </div>
</div>
}